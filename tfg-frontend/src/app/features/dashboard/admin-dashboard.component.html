<div class="dashboard-container">
  
  <app-admin-sidebar
    [checkInDone]="checkInDone"
    [fichajeStatus]="fichajeStatus"
    [fichar]="fichar.bind(this)"
    [logout]="logout.bind(this)">
  </app-admin-sidebar>

  <main class="main">
    <header class="header">
      <h1>Dashboard</h1>
    </header>

    <section class="cards">
      <div class="card">
        <h3>{{totalEmployees}}</h3>
        <p>Empleados totales</p>
      </div>
      <div class="card">
        <h3>{{ recordsToday }}</h3>
        <p>Fichajes hoy</p>
      </div>
      <div class="card">
        <h3>{{ totalDocuments }}</h3>
        <p>Documentos subidos</p>
      </div>
      <div class="chart">
        <h3>Fichajes Ãºltima semana</h3>
        <canvas baseChart id="grafico"
          [data]="lineChartData"
          [options]="lineChartOptions"
          [type]="'line'">
        </canvas>
      </div>
      <div class="registro-historico">
        <h2>Asistencia</h2>
        <ul>
          @for (day of lastFiveDays; track $index) {
          <li>
            <span>{{ day.fecha }}</span>
            <span class="estado" [ngClass]="day.fichado ? ' ok' : 'fail'">
              <i class="fas" [ngClass]="day.fichado ? 'fa-check-circle' : 'fa-times-circle'"></i>
            </span>
          </li>
          }
        </ul>
      </div>  
    </section>
    <h2>Administradores</h2>
    <section class="admins-list">
        <ul>
          @for (admin of admins; track $index) {
          <li>
            ðŸ‘¤ {{ admin.name }} {{ admin.surname }} ({{ admin.email }})
          </li>
          }
        </ul>
      </section>
  </main>
</div>
